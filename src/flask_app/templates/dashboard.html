<!DOCTYPE html>
<html lang="en">

<head>



    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Analyzing Reddit Behaviour</title>

     <link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.css" rel="stylesheet" />
     <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js"></script>
    <!-- Bootstrap Core CSS -->
    <link href="../static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="../static/vendor/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="../vendor/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- DataTables CSS -->
    <link href="../vendor/datatables-plugins/dataTables.bootstrap.css" rel="stylesheet">

    <!-- DataTables Responsive CSS -->
    <link href="../vendor/datatables-responsive/dataTables.responsive.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../static/dist/css/sb-admin-2.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../static/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script type="text/javascript" src="engine1/jquery.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>


  <script type="text/javascript">// <![CDATA[
        function loadSpinner(){
            $("#load").show();
            $("#page").hide();
        }
  // ]]></script>

  <script type="text/javascript">
    $(document).ready(function() {
      $("#load").hide();
      $("#myPopup").hide();
    }); </script>

    <script>
// When the user clicks on <div>, open the popup
function myFunction() {
    var popup = document.getElementById("myPopup");
    popup.classList.toggle("show");
}
</script>


<!--<
  <script> $('.Charts').click(loading);</script>
-->


</head>

<style>
  #overlay {
        background: #ffffff;
        color: #666666;
        position: fixed;
        height: 100%;
        width: 100%;
        z-index: 5000;
        top: 0;
        left: 0;
        float: left;
        text-align: center;
        padding-top: 25%;

     /* Popup container */
.popup {
    position: relative;
    display: inline-block;
    cursor: pointer;
}

/* The actual popup (appears on top) */
.popup .popuptext {
    visibility: hidden;
    width: 160px;
    background-color: #555;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 8px 0;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    margin-left: -80px;
}

/* Popup arrow */
.popup .popuptext::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #555 transparent transparent transparent;
}

/* Toggle this class when clicking on the popup container (hide and show the popup) */
.popup .show {
    visibility: visible;
    -webkit-animation: fadeIn 1s;
    animation: fadeIn 1s
}

/* Add animation (fade in the popup) */
@-webkit-keyframes fadeIn {
    from {opacity: 0;}
    to {opacity: 1;}
}

@keyframes fadeIn {
    from {opacity: 0;}
    to {opacity:1 ;}
}


</style>
<!--<div id="overlay">
    <img src="loader.gif" alt="Loading" /><br/>
    Loading...
</div>-->





<body>

    <div id="wrapper">

        <!-- Navigation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://analyzingredditbehaviour.com">Analyzing Reddit Behaviour</a>
            </div>


            <!-- /.navbar-top-links -->

            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">

                        <li>
                            <a href="/result"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
                        </li>
                        <li>
                            <!--<a href="#"><i class="fa fa-bar-chart-o fa-fw"></i> Charts<span class="fa arrow"></span></a>
                                <ul class="nav nav-second-level">
                                  <li>
                                      <a href="/chart" id="chart" onclick="loadSpinner();">See Charts</a>
                                  </li>
                              </ul>-->
                              <a href="/chart" id="chart" onclick="loadSpinner();"><i class="fa fa-bar-chart-o fa-fw"></i> Charts</a>


                        </li>

                            <!-- /.nav-second-level -->

                        <li class="active">
                            <!--<a href="#"><i class="fa fa-files-o fa-fw"></i> Word Clouds<span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level"></ul>-->
                              <li>
                                <a href="/wordcloud" id="wordcloud" onclick="loadSpinner();"><i class="fas fa-cloud"></i> Dataset Word Cloud </a>
                              </li>
                              <li>
                                  <a href="/wordcloud_sub" onclick="loadSpinner();"><i class="fas fa-cloud"></i> Subreddit Word Clouds</a>
                              </li>


                        </li>
                        <li>
                            <a href="/machine_learning" onclick="loadSpinner();"><i class="fa fa-sitemap fa-fw"></i> Machine Learning</a>
                        </li>
                   </li>
                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->
        </nav>

        <!-- Page Content -->
        <div id="page-wrapper">
            <div class="container-fluid">
                      <div class="row">
                          <div class="col-lg-12">
                                <h1 class="page-header">Statistical Results</h1>
                                      <div id="load"> <img src = "../static/vendor/ajax-loader.gif" style="opacity:0.2; filter:alpha(opacity=40);"/> Please be patient.</div> </div>
                                        <div id="page">
                                            <div id="container" style="width:1000px;">
                                                <div id="frequent" style="margin-top:150px;width:1000px;">

                                                    <div id="pie" style="width:500px; float:right;"></div>
                                                    <h5>What's going on?</h5>
                                                    <p> This page displays various statistics based off analysis which was performed upon a dataset filled with Reddit comments. Below you will find the users who left the most comments in the dataset, the proportion of Negative/Neutral/Positive comments within the dataset, a ranking of the most Positive and Negative subreddits and the most frequent words throughout.</p><br>
                                                     <h3> Frequent Posters </h3>
                                                      <ol> {% for user in freq_list %}
                                                          <li>{{ user }}</li>
                                                        {% endfor %}
                                                      </ol>
                                                      <br>
                                                </div>
                                            </div>
                                            <div id="fun_fact" style="margin-left:680px;">
                                                      <h5>Click for a Fun fact!   <i class="fas fa-bolt" onclick="myFunction()"></i></h5>
                                                         <span class="popuptext" id="myPopup"> <b>{{sarc_data}}% </b> of comments are self-delcared sarcasm! </span>
                                                      </div>
                                            <br>
                                            <br>





                                            <!--<div id="pie_sarcasm" style="width:700px;float:right;top:0;">
                                                <div id="sarcasm" style="float:left;">
                                                        <h5> Sarcastic Comments </h5>
                                                        <body>

                                                </div>
                                            </div>-->

                                            <br>


                                            <script>
                                               var senti_pi = c3.generate({
                                               data: {
                                                   columns: [
                                                     ['Negative Comments ', {{neg_comments}}],
                                                     ['Positive Comments  ', {{pos_comments}}],
                                                     ['Neutral Comments', {{neutral}}],
                                                   ],
                                                   type: 'pie',
                                                   onclick: function (d,i) { console.log("onclick", d,i); },
                                                   onmouseover: function (d,i) { console.log("onmouseover",d,i);},
                                                   onmouseout: function (d,i) { console.log("onmouseout", d,i);}

                                               },

                                               bindto: '#pie'
                                           });
                                        </script>


                                              <br>
                                              <h3> Subreddits </h3>
                                              <table class="table table-striped">
                                                <tr>
                                                  <th class="thead-light"> Top 5 Positive Subreddits: </th>
                                                  <th class="thead-light"> Top 5 Negative Subreddits: </th>
                                                </tr>

                                                {% for row in table_data %}
                                                <tr >
                                                  {% for item in row %}
                                                    <td> /r/{{ item }}</td>
                                                  {% endfor %}
                                                </tr>
                                                {% endfor %}

                                                </table>
                                                <br> <br>
                                                  <h3> Frequent Words </h3>
                                                   {% block content %}
                                                   {{ freq_words| safe}}
                                                   {% endblock %}

                                                    <br> <br>
                                                  <!--  <h4> TOP 5 POSITIVE SUBREDDITS </h4>
                                                    <ul> {% for sub in top_pos %}
                                                      <li> {{ sub }} </li>
                                                         {% endfor %}



                                                  <h4> TOP 5 NEGATIVE SUBREDDITS </h4>
                                                  <ul> {% for s in top_neg %}
                                                    <li> {{ s }} </li>
                                                      {% endfor %} -->


                                                <br>
                                                <br>

                                            </div>
                                          </body>

                                        </div>
                    <!-- for loading thingy -->


                    <!-- /.col-lg-12 -->
                </div>
                <!-- /.row -->

              </div>
            </div>
            <!-- /.container-fluid -->
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- jQuery -->
    <script src="../vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="../vendor/metisMenu/metisMenu.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="../dist/js/sb-admin-2.js"></script>

</body>

</html>
